# cache
## 常用操作
### 组件配置 yii\caching\FileCache
```php
'components' => [
	...
    'cache'=>[
        'class' => 'yii\caching\FileCache',
    ],
...
]

```

### 基本的保存与写入
```php
class DemoCacheController extends Controller {
	 public $cache;

    public function init() {
        parent::init(); // TODO: Change the autogenerated stub
        $this->cache = \Yii::$app->cache;
    }


    public function actionIndex() {
        $id = 456;
      $cache_key =  md5('cache'.$id);
        if (!$data =  $this->cache->get($cache_key)) {
            $str = 'hello world2332!';
            $res = $this->cache->set($cache_key, $str);
            if($res){
                $data =$str;
            }
        }
        echo $data;
    }

    /**
     * http://ysk.dev/admin/demo-cache/cache1
     * 缓存简单的读取与保存,没有设置时间
     * @author cmk
     */
    public function actionCache1() {
        $id = 456;
      $cache_key =  md5('cache'.$id);
        if (!$data =  $this->cache->get($cache_key)) {
            $str = 'hello world2332!';
            $res = $this->cache->set($cache_key, $str);
            if($res){
                $data =$str;
            }
        }
        echo $data;
    }

    /**
     * http://ysk.dev/admin/demo-cache/cache2
     * 缓存简单的读取与保存,增加缓存时间
     * @author cmk
     */
    public function actionCache2() {
        $id = 456;
        $cache_key =  md5('cache'.$id);
        if (!$data =  $this->cache->get($cache_key)) {
            $str = 'hello world23322222!';
            $res = $this->cache->set($cache_key, $str,10);
            if($res){
                $data =$str;
            }
        }
        echo $data;
    }

}
```


### 清空缓存
```php
    /**
     * http://ysk.dev/admin/demo-cache/flush
     * 清除缓存
     * @author cmk
     */
    public function actionFlush() {
        $res = $this->cache->flush();
        if ($res) {
            echo '成功清除';
        } else {
            echo '清除失败';
        }
    }

```